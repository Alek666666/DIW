<!DOCTYPE html>
<!-- saved from url=(0088)https://ncode.amorce.org/ressources/Pool/MS_FULL_STACK/BDD_Decouverte_MySQL/mariadb.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title></title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="./mariadb_files/font-awesome.min.css">
        <link rel="stylesheet" href="./mariadb_files/bootstrap.min.css">
        <link rel="stylesheet" href="./mariadb_files/darcula.css">
        <!-- <link rel="stylesheet" href="/css/highlight/line-number.css"> -->
        <link rel="stylesheet" href="./mariadb_files/github-markdown.css">
        <!-- <link rel="stylesheet" href="/css/markdown_foad.css"> -->
        <link rel="stylesheet" href="./mariadb_files/menu-markdown.css">
        <!-- <script src="/js/highlightjs-line-numbers.min.js"></script> -->
        <script src="./mariadb_files/jquery-3.4.1.min.js"></script>
        <script src="./mariadb_files/popper.min.js"></script>
        <script src="./mariadb_files/bootstrap.min.js"></script>
        <script src="./mariadb_files/highlight.js"></script>
        </head><body><div class="container"><div class="markdown-body"><h1 id="1"><strong>BDD</strong> - MariaDB : Installation</h1>
<p><br>
<br></p>
<p><strong>MariaDB</strong> est un <strong>Système de Gestion de Bases de Données relationnelles</strong> (<strong>SGBDr</strong>) : les données y sont enregistrées dans des tableaux à deux dimensions (lignes et colonnes ; comme sur un tableur Excel classique, par exemple).  </p>
<p><br>
<br></p>
<h2 id="5">Installation de MariaDB pour Ubuntu (Linux)</h2>
<p>Sur Linux, nous pouvons lancer l'installation directe de <strong>MariaDB</strong>.  </p>
<p>Ouvrez un terminal sur votre machine, et saisissez l'instruction :</p>
<pre><code class="hljs sql">sudo apt <span class="hljs-keyword">install</span> mariadb-<span class="hljs-keyword">server</span></code></pre>
<p><br></p>
<p>Par défaut, à l'installation, MariaDB crée un utilisateur par défaut, sans mot de passe.<br>
Problème : Linux n'accepte pas les connexions MySQL avec un mot de passe vide !  </p>
<p>Pour plus de simplicité, nous allons donc nous créer un utilisateur <code>admin</code> sur MariaDB pour travailler avec nos bases de données.  </p>
<p>Toujours dans votre terminal, saisir :</p>
<pre><code class="hljs nginx"><span class="hljs-attribute">sudo</span> mysql</code></pre>
<blockquote>
<p>MariaDB étant un <em>fork</em> de MySQL, il faut passer par la commande <code>mysql</code> sur Linux pour entrer dans MariaDB...</p>
</blockquote>
<p><br></p>
<p>Vous ouvrirez ainsi l'invite de commandes de MySQL / MariaDB :  </p>
<p><img src="./mariadb_files/mysql_shell.png" alt="Shell MySQL"></p>
<p>Entrez alors les instructions suivantes (nous verrons ensuite ces syntaxes plus en détail) :  </p>
<ul>
<li>pour créer l'utilisateur avec le mot de passe voulu :  
<pre><code class="language-sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'admin'</span>@<span class="hljs-string">'localhost'</span> <span class="hljs-keyword">IDENTIFIED</span> <span class="hljs-keyword">BY</span> <span class="hljs-string">'&lt;VotreMotDePasse&gt;'</span>;
<span class="hljs-comment">-- renseignez le mot de passe de votre choix</span></code></pre></li>
<li>pour donner tous les droits à cet utilisateur :  
<pre><code class="language-sql hljs"><span class="hljs-keyword">GRANT</span> ALL <span class="hljs-keyword">PRIVILEGES</span> <span class="hljs-keyword">ON</span> *.* <span class="hljs-keyword">to</span> <span class="hljs-string">'admin'</span>@<span class="hljs-string">'localhost'</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">OPTION</span>;</code></pre></li>
<li>pour valider l'activation des droits :  
<pre><code class="language-sql hljs"><span class="hljs-keyword">FLUSH</span> <span class="hljs-keyword">PRIVILEGES</span>;</code></pre></li>
<li>pour sortir de MySQL :  
<pre><code class="language-sql hljs">exit;</code></pre></li>
</ul>
<p><br>
<br></p>
<h2 id="21">Installation de MariaDB pour Windows :</h2>
<p>Pour utiliser MariaDB sur Windows, le plus simple est encore d'utiliser un environnement de développement web (Laragon, WampServer, etc.).  </p>
<p><br></p>
<p><strong><em>Avec Laragon</em></strong></p>
<p>--&gt; <a target="_blank" href="https://ncode.amorce.org/ressources/Pool/MS_FULL_STACK/BDD_Decouverte_MySQL/laragon/laragon.html">Voir ici les instructions pour découvrir et installer <strong>Laragon</strong></a>  </p>
<p>Par défaut, Laragon s'installe avec le SGBDr <em>MySQL</em>. Pour en changer, il est nécessaire d'installer le SGDBr voulu et de le configurer par défaut.</p>
<p>Pour utiliser MariaDB :  </p>
<ol>
<li>
<p>Fermez toutes les connexions de Laragon (Apache, MySQL)</p>
</li>
<li>
<p>Accédez au fichier de configuration des <em>Quick Adds</em> (= menu d'installations rapides), en passant par le <strong>Menu (clic droit) &gt; Outils &gt; Quick add &gt; Configuration...</strong> :  </p>
</li>
</ol>
<p><img src="./mariadb_files/laragon_quickadd_config.png" alt="Laragon fichier Quick Add"></p>
<p><br></p>
<ol start="3">
<li>Rendez-vous dans la section qui concerne MariaDB (l.10) ; on voit qu'une ligne de téléchargement de MariaDB est prévue (l. 11), mais commentée (<code>#</code> en début de ligne).<br>
De plus, celle-ci n'est pas forcément la dernière version (c'est la v10.3 qui est proposée, et le lien est obsolète...)</li>
</ol>
<p><img src="./mariadb_files/laragon_config_mariadb_def.png" alt="Laragon config MariaDB défaut"></p>
<p><br></p>
<ol start="4">
<li>Vérifiez le lien de téléchargement à inscrire, sur <a href="https://mariadb.org/download/" target="_blank">la page de téléchargement de MariaDB</a> :
<ul>
<li>conservez la version de MariaDB Server proposée qui est généralement la dernière, ou tout du moins, la plus courante actuellement</li>
<li>renseignez votre configuration (par défaut, OS <code>Windows</code>, architecture <code>x86_64</code>)</li>
<li>sélectionnez le type de paquet <code>ZIP file</code></li>
<li>cliquez sur <code>Download</code> (annuler le fichier proposé en téléchargement si nécessaire), et copiez le lien pour le téléchargement direct du ZIP via le lien <code>here</code> de l'encart ouvert automatiquement (si la page s'est rafraîchie, faire Retour) :  </li>
</ul></li>
</ol>
<p><img src="./mariadb_files/laragon_mariadb_url.png" alt="MariaDB URL"></p>
<p><br></p>
<ol start="5">
<li>Dans le fichier de configuration, ajoutez une ligne pour pouvoir télécharger la dernière version de MariaDB récupérée :
<ul>
<li>sur une nouvelle ligne, renseignez le nom de l'entrée (ici, <code>mariadb10.7</code>) et ajoutez un <code>=</code></li>
<li>puis collez le lien copié sur le site</li>
</ul></li>
</ol>
<p><img src="./mariadb_files/laragon_config_mariadb_ok.png" alt="Laragon config MariaDB dernière version"></p>
<p><br></p>
<ol start="6">
<li>Enregistrez les modifications du fichier et fermez-le.
Retournez dans le Quick add pour sélectionner l'entrée créée : <strong>Menu (clic droit) &gt; Outils &gt; Quick add &gt; mariadb10.7</strong>, et laissez Laragon installer MariaDB</li>
</ol>
<p><img src="./mariadb_files/laragon_quickadd_mariadb.png" alt="Laragon Quick add MariaDB"></p>
<p><br>
<br></p>
<p>MariaDB est installé ! Il ne reste plus qu'à le définir comme SGBDr par défaut pour Laragon... Encore un peu de patience, on y est presque !  </p>
<ol>
<li>Rendez-vous dans le répertoire d'installation des SGDBr type <em>MySQL</em> de Laragon pour récupérer le nom du répertoire de MariaDB : par défaut, il s'agit de <code>C:\laragon\bin\mysql</code>. Et on y trouve :</li>
</ol>
<p><img src="./mariadb_files/laragon_bin_mysql.png" alt="Laragon Bin MySQL"></p>
<p><br></p>
<ol start="2">
<li>Dans Laragon, ouvrez le fichier de configuration global depuis <strong>Menu (clic droit) &gt; Laragon &gt; laragon.ini</strong> :</li>
</ol>
<p><img src="./mariadb_files/laragon_ini.png" alt="Laragon menu INI"></p>
<p><br></p>
<ol start="3">
<li>Dans la section <code>[mysql]</code>, remplacez la version à utiliser par celle de MariaDB, en renseignant le nom du répertoire trouvé :</li>
</ol>
<p><img src="./mariadb_files/laragon_ini_mariadb.png" alt="Laragon INI MySQL"></p>
<p><br></p>
<ol start="4">
<li>Enregistrez les modifications du fichier et fermez-le.
Fermez complètement Laragon (y compris dans la barre des tâches, en bas à droite) et redémarrez-le.<br>
Vérifiez que MariaDB remplace bien MySQL comme SGBDr principal :</li>
</ol>
<p><img src="./mariadb_files/laragon_mariadb_verif.png" alt="Laragon SGBDr MariaDB"></p>
<p><br></p>
<p>On y est : Laragon est configuré pour MariaDB !</p>
<p><br>
<br>
<br></p></div><div class="menu-markdown"><img src="./mariadb_files/menu.png"><div data-id="1" class="titre"><strong>BDD</strong> - MariaDB : Installation</div><div data-id="5">Installation de MariaDB pour Ubuntu (Linux)</div><div data-id="21">Installation de MariaDB pour Windows :</div></div></div><script>hljs.initHighlightingOnLoad();//hljs.initLineNumbersOnLoad();</script><script src="./mariadb_files/menu-markdown.js"></script></body></html>